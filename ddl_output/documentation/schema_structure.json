{
  "tables": {
    "categories": {
      "columns": [
        {
          "name": "id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": true,
          "default": null
        },
        {
          "name": "name",
          "type": "varchar(50)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "parent_id",
          "type": "int(11)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "NULL"
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "type": "PRIMARY",
          "columns": [
            "id"
          ]
        },
        {
          "name": "name",
          "type": "UNIQUE",
          "columns": [
            "name"
          ]
        },
        {
          "name": "idx_parent",
          "type": "INDEX",
          "columns": [
            "parent_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "constraint_name": "",
          "column": "",
          "referenced_table": "categories",
          "referenced_column": ""
        }
      ],
      "referenced_by": [
        "categories",
        "products"
      ]
    },
    "order_items": {
      "columns": [
        {
          "name": "id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": true,
          "default": null
        },
        {
          "name": "order_id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "product_id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "quantity",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": "1"
        },
        {
          "name": "unit_price",
          "type": "decimal(10,2)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "total_price",
          "type": "decimal(12,2)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "type": "PRIMARY",
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_order",
          "type": "INDEX",
          "columns": [
            "order_id"
          ]
        },
        {
          "name": "idx_product",
          "type": "INDEX",
          "columns": [
            "product_id"
          ]
        }
      ],
      "foreign_keys": [
        {
          "constraint_name": "",
          "column": "",
          "referenced_table": "orders",
          "referenced_column": ""
        },
        {
          "constraint_name": "",
          "column": "",
          "referenced_table": "products",
          "referenced_column": ""
        }
      ],
      "referenced_by": []
    },
    "orders": {
      "columns": [
        {
          "name": "id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": true,
          "default": null
        },
        {
          "name": "user_id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "total_amount",
          "type": "decimal(12,2)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": "0.00"
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "type": "PRIMARY",
          "columns": [
            "id"
          ]
        },
        {
          "name": "idx_user",
          "type": "INDEX",
          "columns": [
            "user_id"
          ]
        },
        {
          "name": "idx_status",
          "type": "INDEX",
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_date",
          "type": "INDEX",
          "columns": [
            "order_date"
          ]
        }
      ],
      "foreign_keys": [
        {
          "constraint_name": "",
          "column": "",
          "referenced_table": "users",
          "referenced_column": ""
        }
      ],
      "referenced_by": [
        "order_items"
      ]
    },
    "products": {
      "columns": [
        {
          "name": "id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": true,
          "default": null
        },
        {
          "name": "name",
          "type": "varchar(100)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "price",
          "type": "decimal(10,2)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": "0.00"
        },
        {
          "name": "category_id",
          "type": "int(11)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "NULL"
        },
        {
          "name": "stock_quantity",
          "type": "int(11)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "0"
        },
        {
          "name": "sku",
          "type": "varchar(50)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "NULL"
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "type": "PRIMARY",
          "columns": [
            "id"
          ]
        },
        {
          "name": "sku",
          "type": "UNIQUE",
          "columns": [
            "sku"
          ]
        },
        {
          "name": "idx_category",
          "type": "INDEX",
          "columns": [
            "category_id"
          ]
        },
        {
          "name": "idx_sku",
          "type": "INDEX",
          "columns": [
            "sku"
          ]
        },
        {
          "name": "idx_price",
          "type": "INDEX",
          "columns": [
            "price"
          ]
        }
      ],
      "foreign_keys": [
        {
          "constraint_name": "",
          "column": "",
          "referenced_table": "categories",
          "referenced_column": ""
        }
      ],
      "referenced_by": [
        "order_items"
      ]
    },
    "users": {
      "columns": [
        {
          "name": "id",
          "type": "int(11)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": true,
          "default": null
        },
        {
          "name": "username",
          "type": "varchar(50)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "email",
          "type": "varchar(100)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "password_hash",
          "type": "varchar(255)",
          "nullable": false,
          "primary_key": false,
          "auto_increment": false,
          "default": null
        },
        {
          "name": "first_name",
          "type": "varchar(50)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "NULL"
        },
        {
          "name": "last_name",
          "type": "varchar(50)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "NULL"
        },
        {
          "name": "is_active",
          "type": "tinyint(1)",
          "nullable": true,
          "primary_key": false,
          "auto_increment": false,
          "default": "1"
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "type": "PRIMARY",
          "columns": [
            "id"
          ]
        },
        {
          "name": "username",
          "type": "UNIQUE",
          "columns": [
            "username"
          ]
        },
        {
          "name": "idx_username",
          "type": "INDEX",
          "columns": [
            "username"
          ]
        },
        {
          "name": "idx_email",
          "type": "INDEX",
          "columns": [
            "email"
          ]
        }
      ],
      "foreign_keys": [],
      "referenced_by": [
        "orders"
      ]
    }
  },
  "relationships": [
    {
      "from_table": "categories",
      "to_table": "categories",
      "from_column": "",
      "to_column": "",
      "constraint_name": ""
    },
    {
      "from_table": "order_items",
      "to_table": "orders",
      "from_column": "",
      "to_column": "",
      "constraint_name": ""
    },
    {
      "from_table": "order_items",
      "to_table": "products",
      "from_column": "",
      "to_column": "",
      "constraint_name": ""
    },
    {
      "from_table": "orders",
      "to_table": "users",
      "from_column": "",
      "to_column": "",
      "constraint_name": ""
    },
    {
      "from_table": "products",
      "to_table": "categories",
      "from_column": "",
      "to_column": "",
      "constraint_name": ""
    }
  ]
}