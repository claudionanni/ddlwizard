MariaDB [ddl_test_dest]> source /tmp/migra;
Query OK, 0 rows affected (0.000 sec)

--------------
CREATE DEFINER=`sstuser`@`%` FUNCTION `CalculateOrderTotal`(order_id INT) RETURNS decimal(12,2)
    READS SQL DATA
    DETERMINISTIC
BEGIN
                DECLARE total DECIMAL(12,2) DEFAULT 0.00
--------------

ERROR 1064 (42000) at line 17 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '' at line 5
--------------
SELECT SUM(total_price) INTO total
                FROM order_items
                WHERE order_items.order_id = order_id
--------------

ERROR 1327 (42000) at line 22 in file: '/tmp/migra': Undeclared variable: total
--------------
RETURN IFNULL(total, 0.00)
--------------

ERROR 1064 (42000) at line 25 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'RETURN IFNULL(total, 0.00)' at line 1
--------------
END
--------------

ERROR 1064 (42000) at line 26 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'END' at line 1
--------------
CREATE DEFINER=`sstuser`@`%` PROCEDURE `GetCustomerOrders`(IN customer_id INT)
BEGIN
                SELECT o.*, COUNT(oi.id) as item_count
                FROM orders o
                LEFT JOIN order_items oi ON o.id = oi.order_id
                WHERE o.customer_id = customer_id
                GROUP BY o.id
                ORDER BY o.order_date DESC
--------------

ERROR 1064 (42000) at line 32 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '' at line 8
--------------
END
--------------

ERROR 1064 (42000) at line 40 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'END' at line 1
--------------
CREATE DEFINER=`sstuser`@`%` TRIGGER tr_products_stock_check
                BEFORE UPDATE ON products
                FOR EACH ROW
            BEGIN
                IF NEW.stock_quantity < 0 THEN
                    SET NEW.stock_quantity = 0
--------------

ERROR 1064 (42000) at line 46 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '' at line 6
--------------
END IF
--------------

ERROR 1064 (42000) at line 52 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'END IF' at line 1
--------------
END
--------------

ERROR 1064 (42000) at line 53 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'END' at line 1
--------------
CREATE DEFINER=`sstuser`@`%` TRIGGER tr_orders_update_timestamp
                BEFORE UPDATE ON orders
                FOR EACH ROW
            BEGIN
                SET NEW.notes = CONCAT(OLD.notes, ' - Updated at ', NOW())
--------------

ERROR 1064 (42000) at line 56 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '' at line 5
--------------
END
--------------

ERROR 1064 (42000) at line 61 in file: '/tmp/migra': You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'END' at line 1
Query OK, 0 rows affected (0.000 sec)

